(this["webpackJsonppart2-phonebook"]=this["webpackJsonppart2-phonebook"]||[]).push([[0],{17:function(e,n,t){e.exports=t(40)},39:function(e,n,t){},40:function(e,n,t){"use strict";t.r(n);var a=t(0),c=t.n(a),r=t(15),l=t.n(r),o=t(16),u=t(2),m=function(e){return c.a.createElement("p",null," Filter Name: ",c.a.createElement("input",{value:e.filterName,onChange:e.onChange}))},i=t(4),d=t.n(i),s="/api/persons",f=function(){return d.a.get(s).then((function(e){return e.data}))},h=function(e){return d.a.post(s,e)},b=function(e,n){d.a.put("".concat(s,"/").concat(e),n)},E=function(e,n,t){return window.confirm("Delete ".concat(n,"?"))&&d.a.delete("".concat(s,"/").concat(e)).then((function(){console.log("".concat(n," deleted")),t("".concat(n," removed successfully"))})).catch((function(e){t("Error: ".concat(n," has already been removed"))})),""},g=function(e){return c.a.createElement("div",null,c.a.createElement("table",null,c.a.createElement("tbody",null,e.persons.filter((function(n){return n.name.toLowerCase().includes(e.filterName.toLowerCase())})).map((function(n){return c.a.createElement("tr",{key:n.id},c.a.createElement("td",null,n.name),c.a.createElement("td",null,n.number),c.a.createElement("td",null," ",c.a.createElement("button",{onClick:function(){E(n.id,n.name,e.handleMessageChange),e.handleDataDeleteEvent(n.id)}}," Delete ")," "))})))))},p=function(e){return c.a.createElement("form",{onSubmit:e.addName},c.a.createElement("div",null,"Name: ",c.a.createElement("input",{value:e.newName,onChange:e.handleNameChange})),c.a.createElement("div",null,"Phone Number: ",c.a.createElement("input",{value:e.newNumber,onChange:e.handleNumberChange})),c.a.createElement("br",null),c.a.createElement("div",null,c.a.createElement("button",{type:"submit"},"Add")))},v=function(e){return e.message.toLowerCase().includes("error")?c.a.createElement("div",{className:"error"}," ",e.message):e.message?c.a.createElement("div",{className:"success"}," ",e.message):c.a.createElement(c.a.Fragment,null)},N=(t(39),function(){var e=Object(a.useState)([]),n=Object(u.a)(e,2),t=n[0],r=n[1],l=Object(a.useState)(""),i=Object(u.a)(l,2),d=i[0],s=i[1],E=Object(a.useState)(""),N=Object(u.a)(E,2),C=N[0],w=N[1],j=Object(a.useState)(""),O=Object(u.a)(j,2),k=O[0],D=O[1],y=Object(a.useState)(""),S=Object(u.a)(y,2),I=S[0],x=S[1],F=Object(o.a)(t),L="";return Object(a.useEffect)((function(){f().then((function(e){r(e)}))}),[]),c.a.createElement("div",null,c.a.createElement(v,{message:I}),c.a.createElement("h2",null," Filter Phone Numbers "),c.a.createElement(m,{filterName:k,onChange:function(e){D(e.target.value)}}),c.a.createElement("h2",null,"Phonebook"),c.a.createElement(p,{addName:function(e){var n={name:d,number:C,id:t.reduce((function(e,n){return n.id>e?n.id:e}),t[0].id)+1};if(t.map((function(e){return e.name})).includes(d)){if(window.confirm("".concat(d," is already added to phonebook, replace the old number with the new one?"))){var a=t.find((function(e){return e.name===d})).id,c=t.findIndex((function(e){return e.name===d}));b(a,n),F[c].number=C,L="Changed ".concat(d,"'s Number")}}else h(n),F=F.concat(n),L="Added ".concat(d);e.preventDefault(),r(F),x(L)},newName:d,handleNameChange:function(e){s(e.target.value)},newNumber:C,handleNumberChange:function(e){w(e.target.value)}}),c.a.createElement("h2",null,"Numbers"),c.a.createElement(g,{persons:t,filterName:k,handleDataDeleteEvent:function(e){console.log("Id to delete = ".concat(e));var n=F.findIndex((function(n){return n.id===e}));console.log("Deleted Id = ".concat(n)),console.log(F),F.pop(n),r(F)},handleMessageChange:function(e){x(e)}}))});l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(N,null)),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.8868b86b.chunk.js.map